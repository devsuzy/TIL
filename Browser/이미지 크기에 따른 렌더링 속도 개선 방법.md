#  이미지 크기에 따른 렌더링 속도 개선 방법

> 매일메일 FE 2025년 2월 2주차 수요일 질문

### 1. 이미지 포맷 최적화
- JPEG나 PNG 대신 압축 효율이 높은 Webp 또는 AVIF와 같은 최신 포맷으로 변환한다.
- 이미지 품질을 유지하면서도 파일 크기를 크게 줄여준다.
- 단, 일부 구버전의 브라우저 에서는 최신 이미지 포맷을 지원하지 않으므로 호환성 문제를 해결해야한다.

#### 1-1. 호환성 문제 해결방법
- 호환성 문제를 대비하기 위해 HTML의 `<picture>` 요소를 통해 fallback 이미지를 적용한다.
- `<picture>` 요소 내부에 WebP나 AVIF와 같은 고효율 포맷을 우선 설정하고, 브라우저가를 지원하지 않을 경우 JPEG나 PNG와 같은 기본 포맷을 로드한다.
- 아래 코드에서 브라우저는 AVIF를 우선 시도하고, 지원하지 않으면 WebP를, 둘 다 지원하지 않으면 마지막 img 태그의 jpg 이미지를 로드한다.
```html
<picture>
  <source srcset="image.avif" type="image/avif">
  <source srcset="image.webp" type="image/webp">
  <img src="image.jpg" alt="Image description">
</picture>
```

### 2. 이미지 사이즈 조정
- 화면에 노출되는 크기에 비해 이미지가 과도하게 큰 경우 이미지를 작게 리사이징 할 수 있다.
- `srcset`과 `size` 속성을 활용하여 브라우저가 현재 화면 크기에 최적화된 이미지를 선택하여 로드할 수 있다.

### 3. 지연 로딩(Lazy Loading)
- 사용자가 화면을 스크롤할 때 해당 위치에 도달하는 이미지가 로드되도록 설정하는 방법
- 지연 로딩을 통해 초기 로딩 속도 개선을 할 수 있다.
- `loading="lazy"`

### 4. CDN 적용
- CDN을 적용하면 사용자가 지리적으로 가까운 서버에서 이미지를 다운로드하게 되어 로딩 속도를 단축시킬 수 있다.