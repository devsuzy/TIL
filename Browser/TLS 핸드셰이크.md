# TLS 핸드셰이크

> 매일메일 FE 2025년 7월 2주차 화요일 질문

### TLS
- 안전한 인터넷 통신을 위한 암호화 및 인증 프로토콜

### TLS 핸드셰이크
- 브라우저와 서버가 TLS 프로토콜을 통해 암호화된 통신을 시작하기 전 안전하게 연결을 설정하는 절차
- TLS 암호화를 사용하여 통신 세션을 실행하는 프로세스
- HTTPS 작동 원리의 근간

### TLS 핸드셰이크가 이루어지는 단계
1. 클라이언트가 "Client Hello" 메세지를 서버로 전송 
    - 메세지와 함께 포함되는 목록
        - 클라이언트가 지원하는 TLS 버전
        - 암호화 알고리즘 목록
        - 세션 ID
        - Client Random 난수
2. 서버가 "Server Hello" 메세지로 응답
    - 메세지와 함께 포함되는 목록
        - 암호화 방식
        - Server Random 값
        - 디지털 인증서(서버 공개키와 CA의 서명)
3. 클라이언트가 서버의 공개키로 Pre-Master Secret이라는 임시 비밀 값을 암호화하여 전달
4. 서버는 자신의 개인키로 복호화하여 Pre-Master Secret 값을 복원
5. 클라이언트와 서버는 Client Random, Server Random, Pre-Master Secret 값을 기반으로 동일한 대칭키 생성
    - 이 대칭키로 이후 주고받는 데이터를 암호화 및 복호화 하는데 사용
6. 클라이언트와 서버는 서로 "Finished" 메세지를 교환
7. HTTPS 정상 통신