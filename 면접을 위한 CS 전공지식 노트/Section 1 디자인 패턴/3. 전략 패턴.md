# Section 1 디자인 패턴

## 전략 패턴

### 특징
- 객체의 행위를 바꾸고 싶은 경우, 직접 수정하지 않고 전략이라고 부르는 '캡슐화된 알고리즘'을 컨텍스트 안에서 바꿔주면서 상호 교체 가능하게 만드는 패턴
- 전략 패턴 또는 정책 패턴이라고 함

### passport
- 전략 패턴을 활용한 라이브러리
- Node.js에서 인증 모듈을 구현할 때 쓰는 미들웨어 라이브러리
- 여러가지 전략을 기반으로 인증 기능을 구현

### passport 예제
- `passport.use` 메서드에 전략을 매개변수로 넣어 실행
```js
var passport = require('passport'), LocalStratege = require('passport-local').Strategy;

passport.use(new LocalStrategy(
    function(username, password, done) {
        User.findOne({ username: username }, function (err, user) {
            if (err) return done(err);
            if (!user) {
                return done(null, false, { message: 'Incorrect username.' })
            }
            if (!user.validPassword(password)) {
                return done(null, false, { message: 'Incorrect password.' })
            }
            return done(null, user)
        })
    }
)
```