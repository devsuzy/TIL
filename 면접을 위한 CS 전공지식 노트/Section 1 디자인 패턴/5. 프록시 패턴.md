# Section 1 디자인 패턴

## 프록시 패턴

### 특징
- 대상 객체에 접근하기 전 그 접근에 대한 흐름을 가로채 해당 접근을 필터링하거나 수정하는 역할을 하는 계층이 있는 디자인 패턴
- 보안, 데이터 검증, 캐싱, 로깅에 사용

### 프록시 서버
- 클라이언트가 자신을 통해 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해주는 컴퓨터 시스템이나 응용 프로그램

### 프록시 서버로 쓰는 nginx
- Node.js 서버를 구축할 때 앞단에 nginx를 두어 사용자가 직접적으로 서버에 접근하는 것을 차단하고, 간접적으로 한 단계 더 거치게 만들어 보안을 강화한다.

### 프록시 서버로 쓰는 CloudFlare
<img width="2560" height="1344" alt="image" src="https://github.com/user-attachments/assets/e3eee16f-9b6b-4c18-8e3f-2f9f0afa275a" />
- CloudFlare는 웹 서버 앞단에 프록시 서버로 두어 DDOS 공격 방어나 HTTPS 구축에 쓰인다.
    - DDOS 공격 방어: DDOS는 짧은 기간 동안 네트워크에 많은 요청을 보내 네트워크를 마비시키는 사이버 공격 유형으로, CloudFlare는 거대한 네트워크 용량과 캐싱 전략으로 소규모 DDOS를 쉽게 막아낼 수 있다.
    - HTTPS 구축: 서버에서 HTTPS를 구축할 때 인증서를 기반으로 구축하는데, CloudFlare를 사용하면 별도의 인증서 설치 없이 손쉽게 구축이 가능하다.
- CloudFlare가 의심스러운 트래픽인지 먼저 판단하고, CAPTCHA 등을 기반으로 일정 부분 
막아주는 역할을 수행한다.

### CORS와 프록시 서버
- CORS란 서버가 웹 브라우저에서 리소스를 로드할 때 다른 오리진을 통해 로드하지 못하게 하는 HTTP 헤더 기반 메커니즘이다.
- 예를 들어 프론트엔드에서 `127.0.0.1:3000`으로 테스팅 하는데, 백엔드 서버는 `127.0.0.1:12010`이라면 포트 번호가 다르기 때문에 CORS 에러가 발생한다.

- 이를 해결하기 위해 프록시 서버를 둬서 프론트엔드 서버에서 요청되는 오리진을 `127.0.0.1:12010`으로 바꾼다.
